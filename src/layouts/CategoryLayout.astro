---
import RockLayout from './RockLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Player from '../components/Player.astro';

const { title, subtitle, image, color = "#ff0000" } = Astro.props;
---

<RockLayout title={`${title} | El Rock de Todos los Días`}>
    <Header />

    <main class="cat-page">
        <!-- HERO DE SECCIÓN -->
        <header class="cat-hero" style={`background-image: linear-gradient(rgba(0,0,0,0.4), #000), url(${image});`}>
            <div class="cat-hero-content">
                <span class="cat-breadcrumb" style={`color: ${color}`}>EXPLORAR // SECCIONES</span>
                <h1 class="cat-title">{title}</h1>
                <p class="cat-tagline">{subtitle}</p>
            </div>
        </header>

        <div class="cat-container">
            <!-- NOTICIAS -->
            <section class="cat-main">
                <div class="cat-grid">
                    <slot /> <!-- Aquí entrarán tus NewsCards -->
                </div>
            </section>

            <!-- SIDEBAR -->
            <aside class="cat-sidebar">
                <div class="cat-card">
                    <h3 style={`color: ${color}`}>DESTACADO</h3>
                    <div class="cat-top-list">
                        <div class="cat-item">
                            <span class="cat-num">01</span>
                            <p>KISS Alive!: 50 años de la leyenda en directo.</p>
                        </div>
                        <div class="cat-item">
                            <span class="cat-num">02</span>
                            <p>Andor T2: La revolución de Star Wars.</p>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <Footer />
    <Player />
</RockLayout>

<style>
    .cat-page { background: #000; padding-top: 100px; }
    .cat-hero {
        height: 60vh;
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: flex-end;
        padding-bottom: 50px;
    }
    .cat-hero-content { max-width: 1400px; margin: 0 auto; width: 90%; }
    .cat-breadcrumb { font-family: 'Bebas Neue'; font-size: 1.2rem; letter-spacing: 2px; }
    .cat-title { 
        font-family: 'Bebas Neue'; 
        font-size: 9rem; 
        line-height: 0.8; 
        margin: 15px 0; 
        color: transparent;
        -webkit-text-stroke: 1.5px white;
    }
    .cat-tagline { font-family: 'Inter'; font-size: 1.4rem; color: #666; font-weight: 700; text-transform: uppercase; }

    .cat-container {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 1fr 300px;
        gap: 60px;
        padding: 60px 5%;
    }

    .cat-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
    }

    .cat-card { background: #0a0a0a; border: 1px solid #1a1a1a; padding: 25px; position: sticky; top: 130px; }
    .cat-card h3 { font-family: 'Bebas Neue'; font-size: 1.5rem; margin-bottom: 20px; }
    .cat-item { display: flex; gap: 15px; margin-bottom: 20px; }
    .cat-num { font-family: 'Bebas Neue'; font-size: 2rem; color: #222; }
    .cat-item p { font-size: 0.85rem; font-weight: 700; color: #888; }

    @media (max-width: 1100px) {
        .cat-title { font-size: 5rem; }
        .cat-container { grid-template-columns: 1fr; }
        .cat-sidebar { display: none; }
    }
</style>