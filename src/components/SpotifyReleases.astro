---
const categories = [
    {
        name: 'HEAVY ROTATION',
        label: 'ROCK',
        items: [
            { title: '72 SEASONS', artist: 'METALLICA', image: '/metallica.jpg' },
            { title: 'DARK MATTER', artist: 'PEARL JAM', image: '/pearljam.jpg' },
        ]
    },
    {
        name: 'BOX OFFICE',
        label: 'CINEMA',
        items: [
            { title: 'GLADIATOR II', artist: 'RIDLEY SCOTT', image: '/gladiator.jpg' },
            { title: 'DUNE: PROPHECY', artist: 'HBO', image: '/dune.jpg' },
        ]
    },
    {
        name: 'SYSTEM UPDATE',
        label: 'GAMES',
        items: [
            { title: 'DRAGON AGE: VEILGUARD', artist: 'BIOWARE', image: '/dragonage.jpg' },
            { title: 'S.T.A.L.K.E.R. 2', artist: 'GSC GAME WORLD', image: '/stalker2.jpg' },
        ]
    }
];
---

<section class="releases-section">
    <div class="container-compact">
        
        <!-- BARRA ROJA CON TEXTO ROTADO -->
        <div class="releases-header">
            <div class="red-bar-vertical">
                <div class="rotated-text">OUT NOW WEEKLY</div>
            </div>
            
            <!-- 3 COLUMNAS DE CATEGORÍAS -->
            <div class="releases-grid">
                {categories.map((cat) => (
                    <div class="category-column">
                        <h3 class="category-title">{cat.name}</h3>
                        <div class="category-label">/ {cat.label}</div>
                        
                        <div class="items-list">
                            {cat.items.map((item) => (
                                <div class="release-item">
                                    <div class="item-image">
                                        {item.image ? (
                                            <img src={item.image} alt={item.title} />
                                        ) : (
                                            <div class="placeholder">{item.artist[0]}</div>
                                        )}
                                    </div>
                                    <div class="item-content">
                                        <h4 class="item-title">{item.title}</h4>
                                        <p class="item-artist">{item.artist}</p>
                                        <div class="spotify-badge">
                                            <i class="fa-brands fa-spotify"></i>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                ))}
            </div>
        </div>
        
    </div>
</section>

<style>
    .container-compact {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 20px;
    }

    .releases-section {
        padding: 60px 0;
        background: #000;
    }

    /* HEADER CON BARRA ROJA */
    .releases-header {
        display: flex;
        gap: 40px;
        position: relative;
    }

    .red-bar-vertical {
        width: 60px;
        background: linear-gradient(to right, #ff0033 0%, #ff0033 70%, transparent 100%);
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .rotated-text {
        writing-mode: vertical-rl;
        transform: rotate(180deg);
        font-family: 'Bebas Neue', sans-serif;
        font-size: 1.8rem;
        font-weight: 900;
        color: white;
        letter-spacing: 2px;
        white-space: nowrap;
    }

    /* GRID DE 3 COLUMNAS */
    .releases-grid {
        flex: 1;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 40px;
    }

    /* COLUMNA DE CATEGORÍA */
    .category-column {
        display: flex;
        flex-direction: column;
    }

    .category-title {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 2rem;
        font-weight: 900;
        color: #fff;
        margin: 0 0 5px 0;
        letter-spacing: 1px;
        text-transform: uppercase;
    }

    .category-label {
        color: #ff0033;
        font-family: 'Inter', sans-serif;
        font-size: 11px;
        font-weight: 900;
        letter-spacing: 2px;
        margin-bottom: 25px;
        text-transform: uppercase;
    }

    /* LISTA DE ITEMS */
    .items-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .release-item {
        display: flex;
        gap: 15px;
        padding-bottom: 20px;
        border-bottom: 1px solid #111;
    }

    .release-item:last-child {
        border-bottom: none;
    }

    .item-image {
        width: 90px;
        height: 90px;
        flex-shrink: 0;
        background: #050505;
        border: 1px solid #1a1a1a;
        overflow: hidden;
        position: relative;
    }

    .item-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: grayscale(100%);
    }

    .placeholder {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #050505 0%, #1a1a1a 100%);
        color: #222;
        font-family: 'Bebas Neue', sans-serif;
        font-size: 2.5rem;
    }

    .item-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        position: relative;
    }

    .item-title {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 1.1rem;
        color: #fff;
        margin: 0 0 3px 0;
        line-height: 1.2;
        letter-spacing: 0.5px;
    }

    .item-artist {
        font-family: 'Inter', sans-serif;
        font-size: 11px;
        color: #666;
        margin: 0;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .spotify-badge {
        width: 24px;
        height: 24px;
        background: #1DB954;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 12px;
        margin-top: auto;
    }

    @media (max-width: 1100px) {
        .releases-grid {
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        .red-bar-vertical {
            display: none;
        }
    }

    @media (max-width: 600px) {
        .releases-section { padding: 40px 0; }
        .category-title { font-size: 1.5rem; }
        .release-item { flex-direction: column; }
        .item-image { width: 100%; height: 100px; }
    }
</style>