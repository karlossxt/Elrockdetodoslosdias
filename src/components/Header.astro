---
// Header.astro - Versión Pro con Menú Móvil
---
<header class="header-wrapper">
    <!-- 1. TOP BAR (Se oculta en móviles muy pequeños) -->
    <div class="top-bar">
        <div class="top-bar-content">
            <div class="live-info">
                <span class="pulse"></span> 
                <span class="live-text">RADIO EN VIVO: <span class="red-text">EL ROCK DE TODOS LOS DÍAS</span></span>
            </div>
            <div class="top-socials">
                <a href="https://wa.me/525519204557" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="https://www.twitch.tv/elrockdetodoslosdias" target="_blank"><i class="fa-brands fa-twitch"></i></a>
                <a href="https://discord.gg/Ey7sdqwDaW" target="_blank"><i class="fa-brands fa-discord"></i></a>
            </div>
        </div>
    </div>

    <!-- 2. MAIN NAV -->
    <div class="main-nav-bar">
        <div class="nav-container">
            <div class="logo-side">
                <a href="/">
                    <img src="/logo-rock.png" alt="Logo" class="brand-logo" />
                </a>
            </div>

            <!-- Menú Escritorio -->
            <nav class="nav-links desktop-only">
                <a href="/">PORTADA</a>
                <div class="dropdown">
                    <span class="dropbtn">ROCK <i class="fa-solid fa-chevron-down"></i></span>
                    <div class="dropdown-content">
                        <a href="/rock">ROCK GENERAL</a>
                        <a href="/metal">METAL</a>
                        <a href="/nacional">ESCENA NACIONAL</a>
                    </div>
                </div>
                <div class="dropdown">
                    <span class="dropbtn">OTROS MUNDOS <i class="fa-solid fa-chevron-down"></i></span>
                    <div class="dropdown-content">
                        <a href="/cine">PANTALLAS</a>
                        <a href="/comics">COMICS</a>
                        <a href="/arte">ARTE</a>
                    </div>
                </div>
                <a href="/agenda">AGENDA</a>
            </nav>

            <div class="nav-right-side">
                <div class="search-box desktop-only">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" placeholder="BUSCAR..." />
                </div>
                <!-- BOTÓN HAMBURGUESA -->
                <button class="hamburger" id="menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </div>

    <!-- 3. SUB-MENU (Solo escritorio) -->
    <div class="sub-nav-bar desktop-only">
        <div class="sub-nav-container">
            <div class="secondary-links">
                <a href="/toy-rockeando" class="highlight">TOY ROCKEANDO</a>
                <span class="separator">/</span>
                <a href="/bytemos">BYTEMOS</a>
                <span class="separator">/</span>
                <a href="/entrevistas">ENTREVISTAS</a>
                <span class="separator">/</span>
                <a href="/shop">SHOP</a>
            </div>
            <a href="/contacto" class="btn-contacto-header">CONTACTO</a>
        </div>
    </div>

    <!-- MENÚ OVERLAY MÓVIL -->
    <div class="mobile-menu" id="mobile-overlay">
        <nav class="mobile-nav-links">
            <a href="/">PORTADA</a>
            <a href="/rock">ROCK</a>
            <a href="/metal">METAL</a>
            <a href="/nacional">NACIONAL</a>
            <a href="/cine">PANTALLAS</a>
            <a href="/comics">COMICS</a>
            <a href="/agenda">AGENDA</a>
            <div class="mobile-divider"></div>
            <a href="/entrevistas">ENTREVISTAS</a>
            <a href="/bytemos">BYTEMOS</a>
            <a href="/contacto" class="mobile-btn-red">CONTACTO</a>
        </nav>
    </div>
</header>

<script>
    const btn = document.getElementById('menu-toggle');
    const overlay = document.getElementById('mobile-overlay');

    btn.addEventListener('click', () => {
        btn.classList.toggle('is-active');
        overlay.classList.toggle('is-open');
        document.body.classList.toggle('no-scroll');
    });
</script>

<style>
    .header-wrapper { position: fixed; top: 0; left: 0; width: 100%; z-index: 2000; background: #000; }
    
    /* Reutilizamos tus estilos anteriores y añadimos los nuevos */
    .top-bar { background: #050505; border-bottom: 1px solid #111; padding: 6px 0; }
    .top-bar-content { max-width: 1400px; margin: 0 auto; padding: 0 40px; display: flex; justify-content: space-between; align-items: center; }
    .live-info { display: flex; align-items: center; gap: 8px; font-size: 10px; font-weight: 800; color: #fff; font-family: 'Inter'; }
    .red-text { color: #ff0000; }
    .pulse { width: 6px; height: 6px; background: #ff0000; border-radius: 50%; animation: blink 1s infinite; }
    .top-socials { display: flex; gap: 15px; }
    .top-socials a { color: #444; font-size: 10px; }

    .main-nav-bar { background: #000; border-bottom: 1px solid #111; }
    .nav-container { max-width: 1400px; margin: 0 auto; padding: 12px 40px; display: flex; justify-content: space-between; align-items: center; }
    .brand-logo { height: 50px; }

    .nav-links { display: flex; gap: 30px; }
    .nav-links a, .dropbtn { color: white; font-family: 'Bebas Neue'; font-size: 1.5rem; letter-spacing: 1px; cursor: pointer; text-decoration: none; }
    
    .nav-right-side { display: flex; align-items: center; gap: 20px; }
    .desktop-only { display: flex; }

    /* HAMBURGUER ICON */
    .hamburger {
        display: none;
        flex-direction: column;
        gap: 6px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 10px;
    }
    .hamburger span { width: 30px; height: 2px; background: white; transition: 0.3s; }
    .hamburger.is-active span:nth-child(1) { transform: translateY(8px) rotate(45deg); }
    .hamburger.is-active span:nth-child(2) { opacity: 0; }
    .hamburger.is-active span:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

    /* SUB NAV */
    .sub-nav-bar { background: rgba(10, 10, 10, 0.9); backdrop-filter: blur(10px); border-bottom: 1px solid #151515; }
    .sub-nav-container { max-width: 1400px; margin: 0 auto; padding: 10px 40px; display: flex; justify-content: space-between; align-items: center; }
    .secondary-links { display: flex; align-items: center; gap: 15px; }
    .secondary-links a { color: #666; font-size: 11px; font-weight: 900; text-transform: uppercase; text-decoration: none; font-family: 'Inter'; }
    .highlight { color: #ff0000 !important; }
    .btn-contacto-header { background: #ff0000; color: white; padding: 8px 20px; border-radius: 4px; font-family: 'Inter'; font-weight: 900; font-size: 11px; text-decoration: none; }

    /* MOBILE OVERLAY */
    .mobile-menu {
        position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
        background: #000; z-index: -1;
        display: flex; align-items: center; justify-content: center;
        opacity: 0; visibility: hidden; transition: 0.4s;
    }
    .mobile-menu.is-open { opacity: 1; visibility: visible; z-index: 1500; }
    .mobile-nav-links { display: flex; flex-direction: column; text-align: center; gap: 20px; }
    .mobile-nav-links a { font-family: 'Bebas Neue'; font-size: 3rem; color: white; text-decoration: none; }
    .mobile-btn-red { color: #ff0000 !important; }

    /* RESPONSIVE LOGIC */
    @media (max-width: 1024px) {
        .desktop-only { display: none; }
        .hamburger { display: flex; }
        .nav-container { padding: 10px 20px; }
        .brand-logo { height: 40px; }
        :global(.no-scroll) { overflow: hidden; }
    }

    @keyframes blink { 50% { opacity: 0.5; } }
</style>